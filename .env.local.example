# Copy to .env for direct local Go workflow (`make run`).

# Image registry defaults
FRACTURING_SPACE_IMAGE_REGISTRY=ghcr.io
FRACTURING_SPACE_IMAGE_NAMESPACE=fracturing-space
FRACTURING_SPACE_IMAGE_TAG=dev

# Public routing
FRACTURING_SPACE_DOMAIN=localhost
FRACTURING_SPACE_PUBLIC_SCHEME=http
FRACTURING_SPACE_PUBLIC_PORT=:8080

# Caddy bind settings
FRACTURING_SPACE_BIND_ADDR=127.0.0.1
FRACTURING_SPACE_HTTP_PORT=8080
FRACTURING_SPACE_HTTPS_PORT=8443
FRACTURING_SPACE_CADDY_AUTO_HTTPS=off
# Prefix for site addresses in Caddy.
FRACTURING_SPACE_CADDY_SITE_PREFIX=http://
FRACTURING_SPACE_CADDY_EMAIL=

# Game event integrity (required)
FRACTURING_SPACE_GAME_EVENT_HMAC_KEY=dev-secret
FRACTURING_SPACE_GAME_EVENT_HMAC_KEYS=
FRACTURING_SPACE_GAME_EVENT_HMAC_KEY_ID=v1

# Join grant signing and verification (required for invite flows)
FRACTURING_SPACE_JOIN_GRANT_ISSUER=fracturing.space/auth
FRACTURING_SPACE_JOIN_GRANT_AUDIENCE=fracturing.space/game
FRACTURING_SPACE_JOIN_GRANT_PUBLIC_KEY=
FRACTURING_SPACE_JOIN_GRANT_PRIVATE_KEY=
FRACTURING_SPACE_JOIN_GRANT_TTL=5m

# WebAuthn / Passkeys
# For direct `make run`, use the web login service origin.
FRACTURING_SPACE_WEBAUTHN_RP_ID=localhost
FRACTURING_SPACE_WEBAUTHN_RP_ORIGINS=http://localhost:8080

# OAuth (optional)
FRACTURING_SPACE_OAUTH_CLIENTS=
FRACTURING_SPACE_OAUTH_RESOURCE_SECRET=dev-admin-secret

# First-party OAuth client (web login flow)
FRACTURING_SPACE_OAUTH_FIRST_PARTY_CLIENT_ID=fracturing-space
FRACTURING_SPACE_OAUTH_FIRST_PARTY_REDIRECT_URI=http://localhost:8080/auth/callback
FRACTURING_SPACE_OAUTH_LOGIN_UI_URL=http://localhost:8080/login
FRACTURING_SPACE_OAUTH_LOGIN_REDIRECTS=http://localhost:8080/login

# MCP OAuth (optional)
FRACTURING_SPACE_MCP_OAUTH_ISSUER=
FRACTURING_SPACE_MCP_OAUTH_RESOURCE_SECRET=

# Web OAuth client (optional)
FRACTURING_SPACE_WEB_OAUTH_CLIENT_ID=fracturing-space
FRACTURING_SPACE_WEB_OAUTH_RESOURCE_SECRET=dev-admin-secret
FRACTURING_SPACE_WEB_CALLBACK_URL=http://localhost:8080/auth/callback
FRACTURING_SPACE_WEB_AUTH_BASE_URL=http://localhost:8084
FRACTURING_SPACE_WEB_AUTH_TOKEN_URL=
FRACTURING_SPACE_ASSET_BASE_URL=https://res.cloudinary.com/fracturing-space/image/upload
FRACTURING_SPACE_ASSET_VERSION=v1

# Admin authentication (optional, disabled by default)
# FRACTURING_SPACE_ADMIN_AUTH_INTROSPECT_URL=http://localhost:8084/introspect
# FRACTURING_SPACE_ADMIN_OAUTH_RESOURCE_SECRET=dev-admin-secret
# FRACTURING_SPACE_ADMIN_LOGIN_URL=http://localhost:8080/auth/login

# Optional overrides
FRACTURING_SPACE_MCP_ALLOWED_HOSTS=
FRACTURING_SPACE_WEB_DIAL_TIMEOUT=2s
FRACTURING_SPACE_WEB_CACHE_DB_PATH=data/web-cache.db

# Local service port map (devcontainer + compose parity)
FRACTURING_SPACE_AUTH_PORT=8083
FRACTURING_SPACE_AUTH_ADDR=localhost:8083
FRACTURING_SPACE_AUTH_HTTP_ADDR=0.0.0.0:8084
FRACTURING_SPACE_GAME_PORT=8082
FRACTURING_SPACE_GAME_ADDR=localhost:8082
FRACTURING_SPACE_ADMIN_ADDR=0.0.0.0:8081
FRACTURING_SPACE_MCP_HTTP_ADDR=0.0.0.0:8085
FRACTURING_SPACE_WEB_HTTP_ADDR=0.0.0.0:8080
FRACTURING_SPACE_WEB_AUTH_ADDR=localhost:8083

# Chat service (Compose defaults)
FRACTURING_SPACE_CHAT_HTTP_ADDR=0.0.0.0:8086

# AI service (Compose defaults)
FRACTURING_SPACE_AI_PORT=8087
FRACTURING_SPACE_AI_ADDR=localhost:8087
FRACTURING_SPACE_AI_DB_PATH=data/ai.db
FRACTURING_SPACE_AI_ENCRYPTION_KEY=

# Notifications service (Compose defaults)
FRACTURING_SPACE_NOTIFICATIONS_PORT=8088
FRACTURING_SPACE_NOTIFICATIONS_DB_PATH=data/notifications.db
FRACTURING_SPACE_NOTIFICATIONS_EMAIL_DELIVERY_ENABLED=
FRACTURING_SPACE_NOTIFICATIONS_EMAIL_DELIVERY_WORKER_ENABLED=
FRACTURING_SPACE_NOTIFICATIONS_EMAIL_DELIVERY_WORKER_POLL_INTERVAL=5s

# Worker service (Compose defaults)
FRACTURING_SPACE_WORKER_PORT=8089
FRACTURING_SPACE_WORKER_AUTH_ADDR=localhost:8083
FRACTURING_SPACE_WORKER_NOTIFICATIONS_ADDR=localhost:8088
FRACTURING_SPACE_WORKER_DB_PATH=data/worker.db
FRACTURING_SPACE_WORKER_CONSUMER=worker-onboarding
FRACTURING_SPACE_WORKER_POLL_INTERVAL=2s
FRACTURING_SPACE_WORKER_LEASE_TTL=30s
FRACTURING_SPACE_WORKER_MAX_ATTEMPTS=8
FRACTURING_SPACE_WORKER_RETRY_BACKOFF=5s
FRACTURING_SPACE_WORKER_RETRY_MAX_DELAY=5m
FRACTURING_SPACE_WORKER_DIAL_TIMEOUT=2s
